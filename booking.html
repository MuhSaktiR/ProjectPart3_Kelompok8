<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Untree.co">
  <link rel="shortcut icon" href="keretaLogoNew.png">

  <meta name="description" content="" />
  <meta name="keywords" content="bootstrap, bootstrap4" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Source+Serif+Pro:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">
  <link rel="stylesheet" href="css/jquery.fancybox.min.css">
  <link rel="stylesheet" href="fonts/icomoon/style.css">
  <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">
  <link rel="stylesheet" href="css/daterangepicker.css">
  <link rel="stylesheet" href="css/aos.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/booking.css">

  <title>Kereta Kita Website Indonesia</title>
</head>

<body>
  <div class="site-mobile-menu site-navbar-target">
    <div class="site-mobile-menu-header">
      <div class="site-mobile-menu-close">
        <span class="icofont-close js-menu-toggle"></span>
      </div>
    </div>
    <div class="site-mobile-menu-body"></div>
  </div>

  <nav class="site-nav">
    <div class="container">
      <div class="site-navigation">
        <a href="utama.html" class="logo m-0">Kereta Kita<span class="text-primary">.</span></a>

        <ul class="js-clone-nav d-none d-lg-inline-block text-left site-menu float-right">
          <li><a href="utama.html">Home</a></li>
          <li class="active"><a href="booking.html">Book A Train</a></li>
          <li><a href="cancel.html">Cancel Order</a></li>
					<li><a href="jadwal.html">Jadwal</a></li>
					<li><a href="about.html">About</a></li>
					<li><a href="contact.html">Contact Us</a></li>
					<li><a href="index.html">Logout</a></li>
					<li><span id="usernamePlaceholder"></span></li>
        </ul>

        <a href="#" class="burger ml-auto float-right site-menu-toggle js-menu-toggle d-inline-block d-lg-none light" data-toggle="collapse" data-target="#main-navbar">
          <span></span>
        </a>

      </div>
    </div>
  </nav>

  <div class="hero hero-inner">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mx-auto text-center">
          <div class="intro-wrap">
            <h1 class="mb-0">Book A Train Now!</h1>
            <p class="text-white">Segera lakukan pemesanan tiket kereta Anda melalui Website Kereta Kita.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="container mt-5 booking-section">
    <div class="card booking-form">
        <div class="card-header text-center">
            <h2>Booking Kereta Api</h2>
        </div>
        <div class="card-body">
            <form id="bookingForm">
                <div class="form-group">
                    <label for="departureStation">Asal Stasiun</label>
                    <select class="form-control" id="departureStation" required>
                        <option value="" disabled selected>Pilih asal stasiun</option>
                        <option value="Jakarta">Jakarta</option>
                        <option value="Bandung">Bandung</option>
                        <option value="Yogyakarta">Yogyakarta</option>
                        <option value="Surabaya">Surabaya</option>
                        <option value="Solo">Malang</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="arrivalStation">Tujuan Stasiun</label>
                    <select class="form-control" id="arrivalStation" required>
                        <option value="" disabled selected>Pilih tujuan stasiun</option>
                        <option value="Jakarta">Jakarta</option>
                        <option value="Bandung">Bandung</option>
                        <option value="Yogyakarta">Yogyakarta</option>
                        <option value="Surabaya">Surabaya</option>
                        <option value="Solo">Malang</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="departureDate">Tanggal Keberangkatan</label>
                    <input type="date" class="form-control" id="departureDate" required>
                </div>
                <div class="form-group">
                    <label for="returnDate">Tanggal Pulang (Opsional)</label>
                    <input type="date" class="form-control" id="returnDate">
                </div>
                <div class="form-group">
                    <label for="adultPassengers">Jumlah Dewasa</label>
                    <input type="number" class="form-control" id="adultPassengers" placeholder="Masukkan jumlah penumpang dewasa" min="1" required>
                </div>
                <div class="form-group">
                    <label for="childPassengers">Jumlah Anak (Opsional)</label>
                    <input type="number" class="form-control" id="childPassengers" placeholder="Masukkan jumlah penumpang anak" min="0">
                </div>
                <button type="submit" class="btn btn-primary btn-block">Cari</button>
            </form>
        </div>
    </div>
  </div>

  <div class="card mt-3 result-section d-none">
    <div class="card-header">
        <h3>Daftar Kereta Tersedia</h3>
        <div class="form-group mt-2">
            <label for="sortCriteria">Urutkan berdasarkan:</label>
            <select class="form-control" id="sortCriteria">
                <option value="class">Kelas Kereta</option>
                <option value="station">Stasiun</option>
                <option value="time">Waktu</option>
                <option value="price">Harga</option>
            </select>
        </div>
    </div>
    <div class="card-body">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th scope="col">Nama Kereta</th>
                    <th scope="col">Stasiun Asal</th>
                    <th scope="col">Stasiun Tujuan</th>
                    <th scope="col">Waktu Keberangkatan</th>
                    <th scope="col">Waktu Kedatangan</th>
                    <th scope="col">Kelas</th>
                    <th scope="col">Harga</th>
                </tr>
            </thead>
            <tbody id="trainList">
                <!-- Di sini akan ditampilkan hasil pencarian -->
            </tbody>
        </table>
    </div>
  </div>

  <div class="card mt-3 payment-section d-none">
    <div class="card-header">
        <h3>Form Pembayaran</h3>
    </div>
    <div class="card-body">
        <form id="paymentForm">
            <div class="form-group">
                <label for="paymentMethod">Metode Pembayaran</label>
                <select class="form-control" id="paymentMethod" required>
                    <option value="" disabled selected>Pilih metode pembayaran</option>
                    <option value="creditCard">Kartu Kredit</option>
                    <option value="bankTransfer">Transfer Bank</option>
                    <option value="eWallet">Dompet Elektronik</option>
                </select>
            </div>
            <div class="form-group">
                <label for="cardNumber">Nomor Kartu (jika menggunakan Kartu Kredit)</label>
                <input type="text" class="form-control" id="cardNumber" placeholder="Masukkan nomor kartu">
            </div>
            <div class="form-group">
                <label for="bankName">Nama Bank (jika menggunakan Transfer Bank)</label>
                <input type="text" class="form-control" id="bankName" placeholder="Masukkan nama bank">
            </div>
            <div class="form-group">
                <label for="eWallet">Nama Dompet Elektronik (jika menggunakan Dompet Elektronik)</label>
                <input type="text" class="form-control" id="eWallet" placeholder="Masukkan nama dompet elektronik">
            </div>
            <button type="submit" class="btn btn-primary btn-block">Bayar</button>
        </form>
    </div>
  </div>

  <div class="py-5 cta-section">
    <div class="container">
      <div class="row text-center">
        <div class="col-md-12">
          <h2 class="mb-2 text-white">Mulai Booking Kereta Kita Sekarang Juga!</h2>
          <p class="mb-4 lead text-white text-white-opacity">Booking Sekarang dan Dapatkan Promo Yang Tidak Terduga</p>
          <p class="mb-0"><a href="booking.html" class="btn btn-outline-white text-white btn-md font-weight-bold">Booking Now</a></p>
        </div>
      </div>
    </div>
  </div>

  <div class="site-footer">
		<div class="inner first">
		  <div class="container">
			<div class="row">
			  <div class="col-md-6 col-lg-4">
				<div class="widget">
				  <h3 class="heading">About Kereta Kita</h3>
				  <p></p>
				</div>
				<div class="widget">
				  <ul class="list-unstyled social">
					<li><a href="#"><span class="icon-twitter"></span></a></li>
					<li><a href="#"><span class="icon-instagram"></span></a></li>
					<li><a href="#"><span class="icon-facebook"></span></a></li>
					<li><a href="#"><span class="icon-google"></span></a></li>
				  </ul>
				</div>
			  </div>
			  <div class="col-md-6 col-lg-2 pl-lg-5">
				<div class="widget">
				  <h3 class="heading">Pages</h3>
				  <ul class="links list-unstyled">
					<li><a href="#">Blog</a></li>
					<li><a href="#">About</a></li>
					<li><a href="#">Contact</a></li>
				  </ul>
				</div>
			  </div>
			  <div class="col-md-6 col-lg-2">
				<div class="widget">
				  <h3 class="heading">Resources</h3>
				  <ul class="links list-unstyled">
					<li><a href="#">Blog</a></li>
					<li><a href="#">About</a></li>
					<li><a href="#">Contact</a></li>
				  </ul>
				</div>
			  </div>
			  <div class="col-md-6 col-lg-4">
				<div class="widget">
				  <h3 class="heading">Contact</h3>
				  <ul class="list-unstyled quick-info links">
					<li class="email"><a href="#">keretakita@mail.com</a></li>
					<li class="phone"><a href="#">+62 812 8652 9634</a></li>
					<li class="address"><a href="#">Universitas Muhammadiyah Yogyakarta Teknologi Informasi</a></li>
				  </ul>
				</div>
			  </div>
			</div>
		  </div>
		</div>



		<div class="inner dark">
			<div class="container">
				<div class="row text-center">
					<div class="col-md-8 mb-3 mb-md-0 mx-auto">
						<p>Copyright &copy;<script>document.write(new Date().getFullYear());</script>. All Rights Reserved. &mdash; Designed with love by <a href="https://untree.co" class="link-highlight">Untree.co</a> <!-- License information: https://untree.co/license/ -->Distributed By <a href="https://themewagon.com" target="_blank" >ThemeWagon</a>
						</p>
					</div>
					
				</div>
			</div>
		</div>
	</div>

	<div id="overlayer"></div>
	<div class="loader">
		<div class="spinner-border" role="status">
			<span class="sr-only">Loading...</span>
		</div>
	</div>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.fancybox.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/hs.js"></script>
  <script src="js/custom.js"></script>
  <script>
    $(document).ready(function() {
      $('#bookingForm').on('submit', function(event) {
        event.preventDefault();
        
        // Ambil nilai dari form
        var departureStation = $('#departureStation').val();
        var arrivalStation = $('#arrivalStation').val();
        var departureDate = $('#departureDate').val();
        var returnDate = $('#returnDate').val();
        var adultPassengers = $('#adultPassengers').val();
        var childPassengers = $('#childPassengers').val() || 0; // Default ke 0 jika kosong

        // Validasi data form
        if (!departureStation) {
          alert('please select your home station.');
          return;
        }
        if (!arrivalStation || !departureDate || !adultPassengers) {
          alert('Mohon lengkapi semua kolom yang diperlukan.');
          return;
        }

        if (departureStation === arrivalStation) {
          alert('Stasiun asal dan tujuan tidak boleh sama.');
          return;
        }

        // Menampilkan alert bahwa data berhasil dikirim
        alert('Data berhasil dikirim!');

        // Tampilkan bagian pembayaran setelah data berhasil dikirim
        $('.payment-section').removeClass('d-none');

        // Logika untuk menampilkan daftar kereta dapat ditambahkan di sini
        // Untuk saat ini, kita hanya akan menampilkan tabel hasil pencarian
        $('.result-section').removeClass('d-none');
        
        // Contoh data kereta
        var trainData = [
          { name: 'Argo Wilis', departure: departureStation, arrival: arrivalStation, departureTime: '08:00', arrivalTime: '12:00', class: 'Eksekutif', price: 'Rp 300.000' },
          { name: 'Argo Parahyangan', departure: departureStation, arrival: arrivalStation, departureTime: '10:00', arrivalTime: '14:00', class: 'Bisnis', price: 'Rp 200.000' },
          { name: 'Taksaka', departure: departureStation, arrival: arrivalStation, departureTime: '12:00', arrivalTime: '16:00', class: 'Ekonomi', price: 'Rp 150.000' }
        ];

        // Menampilkan data kereta di tabel
        var trainList = $('#trainList');
        trainList.empty();
        trainData.forEach(function(train) {
          var row = `<tr>
            <td>${train.name}</td>
            <td>${train.departure}</td>
            <td>${train.arrival}</td>
            <td>${train.departureTime}</td>
            <td>${train.arrivalTime}</td>
            <td>${train.class}</td>
            <td>${train.price}</td>
          </tr>`;
          trainList.append(row);
        });
      });

      $('#sortCriteria').on('change', function() {
        var criteria = $(this).val();
        var rows = $('#trainList tr').get();

        rows.sort(function(a, b) {
          var A = $(a).children('td').eq(getSortIndex(criteria)).text().toUpperCase();
          var B = $(b).children('td').eq(getSortIndex(criteria)).text().toUpperCase();

          if (A < B) {
            return -1;
          }
          if (A > B) {
            return 1;
          }
          return 0;
        });

        $.each(rows, function(index, row) {
          $('#trainList').append(row);
        });
      });

      function getSortIndex(criteria) {
        switch (criteria) {
          case 'class':
            return 5;
          case 'station':
            return 2;
          case 'time':
            return 3;
          case 'price':
            return 6;
          default:
            return 0;
        }
      }
    });
  </script>

<script>
  $(document).ready(function() {
    $('#paymentForm').on('submit', function(event) {
      event.preventDefault();

      // Ambil nilai dari form
      var paymentMethod = $('#paymentMethod').val();
      var cardNumber = $('#cardNumber').val();
      var bankName = $('#bankName').val();
      var eWallet = $('#eWallet').val();

      // Validasi data form
      if (!paymentMethod) {
        alert('Mohon pilih metode pembayaran.');
        return;
      }

      // Menampilkan alert konfirmasi pembayaran sesuai metode yang dipilih
      var confirmationMessage = 'Konfirmasi pembayaran Anda sesuai dengan metode pembayaran yang dipilih: ' + paymentMethod;
      alert(confirmationMessage);
    });
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
      const loggedInUser = localStorage.getItem('loggedInUser');
      const usernamePlaceholder = document.getElementById('usernamePlaceholder');
      
      if (loggedInUser) {
          usernamePlaceholder.textContent = ''+ loggedInUser;
      }
  });
</script>

</body>
</html>
